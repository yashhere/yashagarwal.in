---
import { Eye, LoaderCircle } from '@lucide/astro';

interface Props {
  slug: string;
  class?: string;
}
const { slug, class: className } = Astro.props;
---

<div x-data="viewCounter" data-slug={slug} class={className}>
  <span class="flex items-center gap-1">
    <Eye class="h-3.5 w-3.5" />
    
    <span class="inline-flex items-center tabular-nums">
      <span x-show="loading" class="animate-spin">
        <LoaderCircle class="h-3.5 w-3.5" />
      </span>
      <span x-show="!loading && views !== null" x-cloak x-text="views?.toLocaleString()"></span>
    </span>
    views
  </span>
</div>
