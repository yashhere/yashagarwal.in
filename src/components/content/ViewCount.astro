---
import { Icon } from 'astro-icon/components';

interface Props {
  slug: string;
  class?: string;
}
const { slug, class: className } = Astro.props;
---

<div x-data="viewCounter" data-slug={slug} class={className}>
  <span class="flex items-center gap-1">
    <Icon name="lucide:eye" class="h-3.5 w-3.5" />
    
    <span class="inline-flex items-center tabular-nums">
      <span x-show="loading" class="animate-spin">
        <Icon name="lucide:loader-circle" class="h-3.5 w-3.5" />
      </span>
      <span x-show="!loading && views !== null" x-cloak x-text="views?.toLocaleString()"></span>
    </span>
    views
  </span>
</div>
