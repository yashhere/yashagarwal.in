---
import { ChevronRight } from "lucide-astro";
import { cn } from "../../lib/utils";

interface Props {
  title: string;
  class?: string;
  [key: string]: any;
}

const { title, class: className, ...props } = Astro.props;
---

<details
  class={cn(
    "group border-border bg-card my-4 rounded-lg border [&_summary::-webkit-details-marker]:hidden",
    className
  )}
  {...props}
>
  <summary class="text-foreground hover:bg-muted/50 focus-visible:ring-ring flex cursor-pointer items-center gap-2 p-4 font-medium transition-colors focus-visible:ring-2 focus-visible:outline-none">
    <ChevronRight
      class="text-muted-foreground h-4 w-4 shrink-0 transition-transform duration-200 group-open:rotate-90"
    />
    <span class="flex-1">{title}</span>
  </summary>
  <div class="text-muted-foreground px-4 pt-0 pb-4 leading-relaxed">
    <div class="pl-6">
      <slot />
    </div>
  </div>
</details>
